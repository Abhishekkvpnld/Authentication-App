{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { getUsername } from \"../helper/helper.jsx\";\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\n\n/**custom hook */\nexport default async function useFetch(query) {\n  _s();\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData(prev => ({\n          ...prev,\n          isLoading: true\n        }));\n        const {\n          username\n        } = !(await getUsername());\n        const {\n          data,\n          status\n        } = !query ? axios.get(`/api/user/${username}`) : axios.get(`/api/${query}`);\n        if (status === 201) {\n          setData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setData(prev => ({\n            ...prev,\n            apiData: data,\n            status: status\n          }));\n        }\n        setData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n      } catch (error) {\n        setData(prev => ({\n          ...prev,\n          isLoading: false,\n          serverError: error\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  return [getData, setData];\n}\n_s(useFetch, \"33Qlk5GS/9OUyX4rRWbVWA5VK5k=\");","map":{"version":3,"names":["axios","useState","useEffect","getUsername","defaults","baseURL","process","env","REACT_APP_SERVER_DOMAIN","useFetch","query","_s","getData","setData","isLoading","apiData","undefined","status","serverError","fetchData","prev","username","data","get","error"],"sources":["C:/Users/JISHN/Documents/projects/Authentication app/client/src/hooks/fetch_hook.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState,useEffect } from \"react\";\r\nimport { getUsername } from \"../helper/helper.jsx\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\r\n\r\n/**custom hook */\r\nexport default async function useFetch(query){\r\n    const [getData,setData] = useState({isLoading:false,apiData:undefined,status:null,serverError:null})\r\n\r\n    useEffect(()=>{\r\n\r\nconst fetchData = async ()=>{\r\n    try{\r\n\r\n        setData(prev => ({...prev,isLoading:true}))\r\n\r\n        const {username} = ! await getUsername()\r\n        const {data,status} = !query ? axios.get(`/api/user/${username}`) : axios.get(`/api/${query}`)\r\n\r\n        if(status === 201){\r\n            setData(prev => ({...prev,isLoading:false}))\r\n            setData(prev => ({...prev,apiData:data,status:status}))\r\n        }\r\n        setData(prev => ({...prev,isLoading:false}))\r\n    }catch(error){\r\n        setData(prev => ({...prev,isLoading:false,serverError:error}))\r\n    }\r\n}\r\nfetchData()\r\n    },[query])\r\n\r\n    return [getData,setData];\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAACC,SAAS,QAAQ,OAAO;AAC1C,SAASC,WAAW,QAAQ,sBAAsB;AAElDH,KAAK,CAACI,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;;AAE5D;AACA,eAAe,eAAeC,QAAQA,CAACC,KAAK,EAAC;EAAAC,EAAA;EACzC,MAAM,CAACC,OAAO,EAACC,OAAO,CAAC,GAAGZ,QAAQ,CAAC;IAACa,SAAS,EAAC,KAAK;IAACC,OAAO,EAACC,SAAS;IAACC,MAAM,EAAC,IAAI;IAACC,WAAW,EAAC;EAAI,CAAC,CAAC;EAEpGhB,SAAS,CAAC,MAAI;IAElB,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAU;MACxB,IAAG;QAECN,OAAO,CAACO,IAAI,KAAK;UAAC,GAAGA,IAAI;UAACN,SAAS,EAAC;QAAI,CAAC,CAAC,CAAC;QAE3C,MAAM;UAACO;QAAQ,CAAC,GAAG,EAAE,MAAMlB,WAAW,CAAC,CAAC;QACxC,MAAM;UAACmB,IAAI;UAACL;QAAM,CAAC,GAAG,CAACP,KAAK,GAAGV,KAAK,CAACuB,GAAG,CAAE,aAAYF,QAAS,EAAC,CAAC,GAAGrB,KAAK,CAACuB,GAAG,CAAE,QAAOb,KAAM,EAAC,CAAC;QAE9F,IAAGO,MAAM,KAAK,GAAG,EAAC;UACdJ,OAAO,CAACO,IAAI,KAAK;YAAC,GAAGA,IAAI;YAACN,SAAS,EAAC;UAAK,CAAC,CAAC,CAAC;UAC5CD,OAAO,CAACO,IAAI,KAAK;YAAC,GAAGA,IAAI;YAACL,OAAO,EAACO,IAAI;YAACL,MAAM,EAACA;UAAM,CAAC,CAAC,CAAC;QAC3D;QACAJ,OAAO,CAACO,IAAI,KAAK;UAAC,GAAGA,IAAI;UAACN,SAAS,EAAC;QAAK,CAAC,CAAC,CAAC;MAChD,CAAC,QAAMU,KAAK,EAAC;QACTX,OAAO,CAACO,IAAI,KAAK;UAAC,GAAGA,IAAI;UAACN,SAAS,EAAC,KAAK;UAACI,WAAW,EAACM;QAAK,CAAC,CAAC,CAAC;MAClE;IACJ,CAAC;IACDL,SAAS,CAAC,CAAC;EACP,CAAC,EAAC,CAACT,KAAK,CAAC,CAAC;EAEV,OAAO,CAACE,OAAO,EAACC,OAAO,CAAC;AAC5B;AAACF,EAAA,CA1B6BF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
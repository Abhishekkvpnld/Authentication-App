{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { getUsername } from \"../helper/helper.jsx\";\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\n\n/**custom hook */\nexport default function useFetch(query) {\n  _s();\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData(prev => ({\n          ...prev,\n          isLoading: true\n        }));\n        console.log('api/user  ' + 'status ' + getData.status);\n        const {\n          username\n        } = !query ? await getUsername() : {\n          username: ''\n        };\n        const {\n          data,\n          status\n        } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\n        if (status === 200) {\n          setData(prev => ({\n            ...prev,\n            isLoading: false,\n            apiData: data,\n            status: status\n          }));\n        } else {\n          setData(prev => ({\n            ...prev,\n            isLoading: false,\n            serverError: data\n          }));\n        }\n      } catch (error) {\n        setData(prev => ({\n          ...prev,\n          isLoading: false,\n          serverError: error\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  return [getData, setData];\n}\n_s(useFetch, \"0kpRpc/Y6oNL75mQxnLiT/hBaWU=\");","map":{"version":3,"names":["axios","useState","useEffect","getUsername","defaults","baseURL","process","env","REACT_APP_SERVER_DOMAIN","useFetch","query","_s","getData","setData","isLoading","apiData","undefined","status","serverError","fetchData","prev","console","log","username","data","get","error"],"sources":["C:/Users/JISHN/Documents/projects/Authentication app/client/src/hooks/fetch_hook.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getUsername } from \"../helper/helper.jsx\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\r\n\r\n/**custom hook */\r\nexport default function useFetch(query) {\r\n\r\n  const [getData, setData] = useState({\r\n    \r\n    isLoading: false,\r\n    apiData: undefined,\r\n    status: null,\r\n    serverError: null\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n\r\n\r\n      try {\r\n        setData(prev => ({ ...prev, isLoading: true })); \r\n\r\n        console.log('api/user  '+ 'status '+getData.status);\r\n\r\n        const { username } = !query ? await getUsername() : { username: '' };\r\n        const { data, status } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\r\n\r\n\r\n        if (status === 200) {\r\n          setData(prev => ({ ...prev, isLoading: false, apiData: data, status: status }));\r\n        } else {\r\n       setData(prev => ({ ...prev, isLoading: false, serverError: data }));\r\n        }\r\n\r\n\r\n      } catch (error) {\r\n        setData(prev => ({ ...prev, isLoading: false, serverError: error }));\r\n      }\r\n    };\r\n\r\n\r\n    fetchData();\r\n\r\n  }, [query,]);\r\n\r\n  return [getData, setData];\r\n}\r\n "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,sBAAsB;AAElDH,KAAK,CAACI,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;;AAE5D;AACA,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAEtC,MAAM,CAACC,OAAO,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC;IAElCa,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAEC,SAAS;IAClBC,MAAM,EAAE,IAAI;IACZC,WAAW,EAAE;EACf,CAAC,CAAC;EAEFhB,SAAS,CAAC,MAAM;IAEd,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAG5B,IAAI;QACFN,OAAO,CAACO,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE;QAAK,CAAC,CAAC,CAAC;QAE/CO,OAAO,CAACC,GAAG,CAAC,YAAY,GAAE,SAAS,GAACV,OAAO,CAACK,MAAM,CAAC;QAEnD,MAAM;UAAEM;QAAS,CAAC,GAAG,CAACb,KAAK,GAAG,MAAMP,WAAW,CAAC,CAAC,GAAG;UAAEoB,QAAQ,EAAE;QAAG,CAAC;QACpE,MAAM;UAAEC,IAAI;UAAEP;QAAO,CAAC,GAAG,CAACP,KAAK,GAAG,MAAMV,KAAK,CAACyB,GAAG,CAAE,aAAYF,QAAS,EAAC,CAAC,GAAG,MAAMvB,KAAK,CAACyB,GAAG,CAAE,QAAOf,KAAM,EAAC,CAAC;QAG7G,IAAIO,MAAM,KAAK,GAAG,EAAE;UAClBJ,OAAO,CAACO,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEN,SAAS,EAAE,KAAK;YAAEC,OAAO,EAAES,IAAI;YAAEP,MAAM,EAAEA;UAAO,CAAC,CAAC,CAAC;QACjF,CAAC,MAAM;UACRJ,OAAO,CAACO,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEN,SAAS,EAAE,KAAK;YAAEI,WAAW,EAAEM;UAAK,CAAC,CAAC,CAAC;QAClE;MAGF,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdb,OAAO,CAACO,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE,KAAK;UAAEI,WAAW,EAAEQ;QAAM,CAAC,CAAC,CAAC;MACtE;IACF,CAAC;IAGDP,SAAS,CAAC,CAAC;EAEb,CAAC,EAAE,CAACT,KAAK,CAAE,CAAC;EAEZ,OAAO,CAACE,OAAO,EAAEC,OAAO,CAAC;AAC3B;AAACF,EAAA,CA1CuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}